{% extends "base.html" %}
{% block title %}Seat status{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block content %}
  <h2>MQTT messages (last 10 per topic)</h2>
  {% for topic in mqtt_messages | sort %}
  <h3>{{ topic }}</h3>
  <ul class="list-group list-group-flush">
  {% for key, value in mqtt_messages[topic].items() | reverse %}
    <li class="list-group-item">{{ key | strftime }}: {{ value.decode('utf-8') }}</li>
  {% endfor %}
  </ul>
  {% endfor %}

  <h2>Scenes</h2>
  {% if 'scenes' in config_content %}
  <ul class="list-group list-group-flush">
  {% for scene in config_content.scenes %}
  <li class="list-group-item">{{ loop.index - 1 }}: {{ scene.name }} ({{ scene.file }}, {{ scene.duration }} seconds)</li>
  {% endfor %}
  </ul>
  {% else %}
  It seems that there is a error with the config!
  {% endif %}
{% endblock %}
