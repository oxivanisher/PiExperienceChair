{% extends "base.html" %}
{% block title %}Seat control{% endblock %}
{% block head %}
  {{ super() }}
    <style>
        .form-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 180px); /* Adjusted height */
        }
        .form-control {
            flex-grow: 1;
            resize: vertical;
            width: 100%; /* Fill available width */
        }
    </style>
  <meta http-equiv="refresh" content="5">
{% endblock %}
{% block content %}
    <h3>Multimedia control</h3>
    <div class="button-container">
        <form method="get" action="{{ url_for('play') }}">
            <button class="btn btn-primary btn-sm" type="submit" name="action" value="play">Play</button>
        </form>
        <form method="get" action="{{ url_for('stop') }}">
            <button class="btn btn-secondary btn-sm" type="submit" name="action" value="stop">Stop</button>
        </form>
        <form method="get" action="{{ url_for('next') }}">
            <button class="btn btn-success btn-sm" type="submit" name="action" value="next">Next</button>
        </form>
        <form method="get" action="{{ url_for('prev') }}">
            <button class="btn btn-success btn-sm" type="submit" name="action" value="prev">Previous</button>
        </form>
    </div>

    <h3>System control</h3>
        <div class="button-container">
        <form method="get" action="{{ url_for('quit') }}">
            <button class="btn btn-danger btn-sm" type="submit" name="action" value="quit">Quit services</button>
        </form>
        <form method="get" action="{{ url_for('force_restart') }}">
            <button class="btn btn-danger btn-sm" type="submit" name="action" value="force_restart">Kill services</button>
        </form>
    </div>
    <div class="button-container">
        <form method="get" action="{{ url_for('reboot_computer') }}">
            <button class="btn btn-danger btn-sm" type="submit" name="action" value="force_restart">Reboot Pi</button>
        </form>
        <form method="get" action="{{ url_for('shutdown_computer') }}">
            <button class="btn btn-danger btn-sm" type="submit" name="action" value="force_restart">Shutdown Pi</button>
        </form>
    </div>

    <h3>Current scene</h3>
    {{ current_scene }}

    <h3>Last scenes played</h3>
    <ul class="list-group list-group-flush">
        {% for date in last_scenes %}
        <li class="list-group-item">{{ date | strftime }}: {{ last_scenes[date] }}</li>
        {% endfor %}
    </ul>

{% endblock %}
